<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Yi Yang&#39;s blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Yi Yang&#39;s blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yi Yang&#39;s blog">






  <link rel="canonical" href="http://yoursite.com/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Yi Yang's blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yi Yang's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/16/vuenews-practice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/16/vuenews-practice/" class="post-title-link" itemprop="url">vuenews-practice</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-06-16 15:47:42" itemprop="dateCreated datePublished" datetime="2017-06-16T15:47:42+10:00">2017-06-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:29:36" itemprop="dateModified" datetime="2019-03-22T14:29:36+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Last week, I created a news applicaiton by using Vue.js and ElementUI</p>
<h1 id="Install-Vue"><a href="#Install-Vue" class="headerlink" title="Install Vue"></a>Install Vue</h1><p>Install Vue.js by using the cli.</p>
<p>See the document <a href="https://vuejs.org/v2/guide/installation.html" target="_blank" rel="noopener">here</a></p>
<h1 id="Install-ElementUI"><a href="#Install-ElementUI" class="headerlink" title="Install ElementUI"></a>Install ElementUI</h1><p>Install ElementUI. See the document <a href="http://element.eleme.io/#/en-US/component/installation" target="_blank" rel="noopener">here</a></p>
<h1 id="Apply-an-API-key-from-News-API"><a href="#Apply-an-API-key-from-News-API" class="headerlink" title="Apply an API key from News API"></a>Apply an API key from News API</h1><p>Apply from <a href="https://newsapi.org/" target="_blank" rel="noopener">here</a></p>
<h1 id="Install-Vue-axios"><a href="#Install-Vue-axios" class="headerlink" title="Install Vue-axios"></a>Install Vue-axios</h1><p>Vue-axios is a tool for sending get request in our application.</p>
<p>Follow the document <a href="https://www.npmjs.com/package/vue-axios" target="_blank" rel="noopener">here</a> </p>
<h1 id="Install-vue-lazyload"><a href="#Install-vue-lazyload" class="headerlink" title="Install vue-lazyload"></a>Install vue-lazyload</h1><p>A Vue.js plugin for lazyload your Image or Component in the application.</p>
<p>Install from <a href="https://github.com/hilongjw/vue-lazyload" target="_blank" rel="noopener">here</a></p>
<h1 id="Install-Vuex"><a href="#Install-Vuex" class="headerlink" title="Install Vuex"></a>Install Vuex</h1><blockquote>
<p>Vuex is a <strong>state management pattern + library</strong> for Vue.js applications. It serves as a centralized store for all the components in an application, with rules ensuring that the state can only be mutated in a predictable fashion. It also integrates with Vue’s official <a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="noopener">devtools extension</a> to provide advanced features such as zero-config time-travel debugging and state snapshot export / import.</p>
</blockquote>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/06/16/vuenews-practice/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/13/create-a-loading-bar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/13/create-a-loading-bar/" class="post-title-link" itemprop="url">Create a simple loading bar using Javascript</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-06-13 15:29:55" itemprop="dateCreated datePublished" datetime="2017-06-13T15:29:55+10:00">2017-06-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This article is about how to create a simple loading bar. Actually, the loading progress of a page could be got. But in this article, I only use a simple way to implement the loading bar.</p>
<h1 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h1><p>First, create a html file. Like this:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Js loading bar<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"progress-container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress-bar"</span> <span class="attr">id</span>=<span class="string">"progress-bar"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/06/13/create-a-loading-bar/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/vuejs-spa-login/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/05/vuejs-spa-login/" class="post-title-link" itemprop="url">Single Page Application Login (Vuejs)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-06-05 20:40:22" itemprop="dateCreated datePublished" datetime="2017-06-05T20:40:22+10:00">2017-06-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>In a normal login progress, a solution is:</p>
<ol>
<li>Check login status, when user enters a page or when the router changes ( the value stored in cookie or local storage)</li>
<li>If we find login status, then we can get the user information.</li>
<li>Otherwise, redirect the user to login page</li>
<li>In login page, validate user input.</li>
<li>Send login request</li>
<li>If not success, the return a error response to user.</li>
<li>If success, get information and save the login status</li>
<li>When a user logout, delete login information</li>
</ol>
<p>Now, install the <code>vue-cli</code> first by command</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> install vue-cli</span><br><span class="line"><span class="meta">$</span> npm install --global vue-cli</span><br><span class="line"><span class="meta">#</span> create a new project template based on webpack</span><br><span class="line"><span class="meta">$</span> vue init webpack my-project</span><br><span class="line"><span class="meta">#</span> install dependencies</span><br><span class="line"><span class="meta">$</span> cd my-project</span><br><span class="line"><span class="meta">$</span> npm install</span><br><span class="line"><span class="meta">$</span> npm run dev</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/06/05/vuejs-spa-login/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/29/secret-of-the-javascript-ninja-exercise-answers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/29/secret-of-the-javascript-ninja-exercise-answers/" class="post-title-link" itemprop="url">secret-of-the-javascript-ninja-exercise-answers</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-29 16:54:58" itemprop="dateCreated datePublished" datetime="2017-05-29T16:54:58+10:00">2017-05-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This article is used to record the exercise answers of the book Secrets of the Javascript Ninja-Manning</p>
<h1 id="Chapter-2"><a href="#Chapter-2" class="headerlink" title="Chapter 2"></a>Chapter 2</h1><ol>
<li><p>What are the twp phases in lifecycle of a client-side web application?</p>
<p>The two phases in the lifecycle of a client-side web application are <strong><em>page building</em></strong> and <strong><em>even handling</em></strong>.</p>
<p>In the <strong><em>page building</em></strong> phase, the user interface of our page is built by processing the HTML code, which is a blueprint of the DOM (Document Object Model) and by exectuing main line JavaScript code. In this phase, the processing  of HTML code will be paused when the browser meet the <code>&lt;script&gt;</code> tag, instead the browser will try to run the Javascript code.</p>
<p>After the last HTML node is processed, the page enters the event-handling phase, in which various events are processed through event loop.</p>
</li>
<li><p>What is the main advantage of using the <code>addEventListener</code> method to register an event handler versus assigning a handler to a specific element property?</p>
<p>When assigning event handler to a specific element property, we can only register one event handler; <code>addEventListener</code> allows us to register as many event handlers as we necessary.</p>
</li>
<li><p>How many events can be processed at once?</p>
<p>Javascript is based on a <strong><em>single-threaded</em></strong> execution model, in which events are processed one at a time.</p>
</li>
<li><p>In what order are events from the event queue processed</p>
<p>Events are processed in the order in which they were generated: <strong><em>first in , first out</em></strong>. Just like the queue.</p>
</li>
</ol>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/05/29/secret-of-the-javascript-ninja-exercise-answers/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/28/database-and-eloquent-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/28/database-and-eloquent-2/" class="post-title-link" itemprop="url">4.2 Database and Eloquent</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-28 16:25:15" itemprop="dateCreated datePublished" datetime="2017-05-28T16:25:15+10:00">2017-05-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Introduction-to-Elquent"><a href="#Introduction-to-Elquent" class="headerlink" title="Introduction to Elquent"></a>Introduction to Elquent</h1><p>Eloquent is an ActiveRecord ORM. It’s a database abstraction layer that provides a single interface to interact with multiple database types.</p>
<h2 id="Creating-and-Defining-Eloquent-Models"><a href="#Creating-and-Defining-Eloquent-Models" class="headerlink" title="Creating and Defining Eloquent Models"></a>Creating and Defining Eloquent Models</h2><p>First, we can create a model like this:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:model User</span><br></pre></td></tr></table></figure>
<p>This is what we’ll get in <strong><em>app/User.php</em></strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you want to automatically create a migration when you create the model, pass -m or –migration flag</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:model User -m</span><br></pre></td></tr></table></figure>
<h3 id="Table-name"><a href="#Table-name" class="headerlink" title="Table name"></a>Table name</h3><p>The default behavior for the table names is that Laravel ‘snake cases’ and pluralizes your class name, so <strong><em>Secondary</em>User</strong> will access a table named <strong><em>secondary_users</em></strong>.</p>
<p>If you want to customize the name, set the <code>$table</code> property on the model:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> $table = <span class="string">'users_secondary'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Primary-key"><a href="#Primary-key" class="headerlink" title="Primary key"></a>Primary key</h3><p>Laravel assumes, by default, each table will have an autoincrementing integer primary key, and it will be named <code>id</code></p>
<p>If you want to customize the name of primary key, change the <code>$primaryKey</code> property</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> $primaryKey = <span class="string">'contact_id'</span>;</span><br></pre></td></tr></table></figure>
<p>And if you want to set it to be nonincrementing, use</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> $incrementing = <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Timestamps"><a href="#Timestamps" class="headerlink" title="Timestamps"></a>Timestamps</h3><p>Eloquent expects every table to have <code>created_at</code> and <code>updated_at</code> timestamp columns. If your table wont’ have them, disable the <code>$timestamps</code> functionality</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> $timestamps = <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>
<h2 id="Retrieving-Data-with-Eloquent"><a href="#Retrieving-Data-with-Eloquent" class="headerlink" title="Retrieving Data with Eloquent"></a>Retrieving Data with Eloquent</h2>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/05/28/database-and-eloquent-2/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/27/database-and-eloquent/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/27/database-and-eloquent/" class="post-title-link" itemprop="url">4.1 Database and Eloquent</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-27 15:38:50" itemprop="dateCreated datePublished" datetime="2017-05-27T15:38:50+10:00">2017-05-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Laravel provides a suite of tools for interacting with your application’s database, but the most notable is Eloquent.</p>
<h1 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h1><p>To config the database access, we need to go to <code>config/database.php</code>.</p>
<h1 id="Migrations"><a href="#Migrations" class="headerlink" title="Migrations"></a>Migrations</h1><p>Laravel makes it easy to define your database structure with code-driven migrations. Every new table, column, index, and key can be defined in code.</p>
<h2 id="Defining-Migrations"><a href="#Defining-Migrations" class="headerlink" title="Defining Migrations"></a>Defining Migrations</h2><p>A migration is a single file that defines two things: the modifications desired when running this migration <code>up</code> and the modifications desired when running this migration <code>down</code></p>
<p>The Laravel’s default ‘create user table’ migration</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateUserTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Schema::create(<span class="string">'users'</span>,<span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">      $table-&gt;increments(<span class="string">'id'</span>);</span><br><span class="line">      $table-&gt;string(<span class="string">'name'</span>);</span><br><span class="line">      $table-&gt;string(<span class="string">'email'</span>)-&gt;unique();</span><br><span class="line">      $table-&gt;string(<span class="string">'password'</span>,<span class="number">60</span>);</span><br><span class="line">      $table-&gt;rememberToken();</span><br><span class="line">      $table-&gt;timestamps();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Schema::drop(<span class="string">'users'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <code>up()</code> method tells the migration to create a new table called users with a few fields, and <code>down()</code> method tells it to drop the <em>users</em> table</p>
<h3 id="Create-a-migration"><a href="#Create-a-migration" class="headerlink" title="Create a migration"></a>Create a migration</h3><p>There’s an Artisan command for creating a migration file.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:migration</span><br></pre></td></tr></table></figure>
<p>The command has a parameter, which is the name of the migration. For example if you want to create a ‘create users table’ migration, you can run this:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:migration create_users_table</span><br></pre></td></tr></table></figure>
<p>There are two flags we can optionally pass to this command. <code>--create=table_name</code> prefills the migration with code designed to create a table named <code>table_name</code>, and <code>--table=table_name</code> just prefills the migration for modifications to an existing table.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:migration create_users_table --create=users</span><br><span class="line">php artisan make:migration add_votes_to_users_table --talbe=users</span><br></pre></td></tr></table></figure>
<h3 id="Creating-tables"><a href="#Creating-tables" class="headerlink" title="Creating tables"></a>Creating tables</h3><p>In migration file, the migrations depend on the <code>Schema</code> facade and its methods. </p>
<p>To create a new table in a migration, use the <code>Schema</code>‘s <code>create()</code> method</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema::create(<span class="string">'table'</span>,<span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p> The first parameter is table’s name, and the second method closure that defines its columns.</p>
<h3 id="Creating-columns"><a href="#Creating-columns" class="headerlink" title="Creating columns"></a>Creating columns</h3><p>To create new columns in a table, whether in a create table call or a modify table call, use the instance of <code>Blueprint</code> that’s passed into the second closure.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema::create(<span class="string">'table'</span>,<span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">  $table-&gt;string(<span class="string">'name'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Blueprint has a lot of methods for us to create different type of columns</p>
<p>For more details, check <a href="https://laravel.com/docs/5.4/migrations" target="_blank" rel="noopener">Laravle’s available column types</a></p>
<h3 id="Building-extra-properties-fluently"><a href="#Building-extra-properties-fluently" class="headerlink" title="Building extra properties fluently"></a>Building extra properties fluently</h3><p>Most of the properties of a field definition, for example, the length are set as teh second parameter of the field creation method. We can chain more method calls after the creation of the column.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema::table(<span class="string">'users'</span>,<span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">  $table-&gt;string(<span class="string">'email'</span>)-&gt;nullable()-&gt;after(<span class="string">'last_name'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>In above code, we defined a nullable column called email and this column is placed right after ‘last_name’ column.</p>
<h3 id="Droping-tables"><a href="#Droping-tables" class="headerlink" title="Droping tables"></a>Droping tables</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Schema::drop(<span class="string">'users'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Modifying-columns"><a href="#Modifying-columns" class="headerlink" title="Modifying columns"></a>Modifying columns</h3><p>To modify a column, just write the code we would write to create the column as if it were new, and then append a call to the <code>change()</code> method after it.</p>
<p>So if we have a string column named <em>name</em> that has a length of 255 and we want to change its length to 100, this is how we would write it:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema::table(<span class="string">'users'</span>, <span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">  $table-&gt;string(<span class="string">'name'</span>,<span class="number">100</span>)-&gt;change();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>How to rename a column</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema::table(<span class="string">'users'</span>, <span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">  $table-&gt;renameColumn(<span class="string">'from'</span>,<span class="string">'to'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>How to drop a column</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema::table(<span class="string">'users'</span>,<span class="function"><span class="keyword">function</span><span class="params">(Blueprint $table)</span></span>&#123;</span><br><span class="line">  $table-&gt;dropColumn(<span class="string">'name'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Adding-indexes"><a href="#Adding-indexes" class="headerlink" title="Adding indexes"></a>Adding indexes</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$table-&gt;primary(<span class="string">'id'</span>); <span class="comment">// primary key: unnecessary if used increments()</span></span><br><span class="line">$table-&gt;primary([<span class="string">'first_name'</span>,<span class="string">'last_name'</span>]); <span class="comment">// composite keys</span></span><br><span class="line">$table-&gt;unique(<span class="string">'email'</span>); <span class="comment">// unique index</span></span><br><span class="line">$table-&gt;unique(<span class="string">'email'</span>,<span class="string">'optional_custom_index_name'</span>);</span><br><span class="line">$table-&gt;index(<span class="string">'amount'</span>); <span class="comment">//basic index</span></span><br><span class="line">$table-&gt;index(<span class="string">'amount'</span>,<span class="string">'optional_custom_index_name'</span>); <span class="comment">//basic index</span></span><br></pre></td></tr></table></figure>
<p>Note: <code>primary()</code> is not necessary if you are using the <code>increments()</code> meth</p>
<p>od to create your index, this will automatically add a primary key index for you</p>
<h3 id="Removing-indexes"><a href="#Removing-indexes" class="headerlink" title="Removing indexes"></a>Removing indexes</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$table-&gt;dropPrimary(<span class="string">'id'</span>);</span><br><span class="line">$table-&gt;dropUnique(<span class="string">'email'</span>);</span><br><span class="line">$table-&gt;dropIndex(<span class="string">'optional_custom_index_name'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Adding-and-removing-foreign-keys"><a href="#Adding-and-removing-foreign-keys" class="headerlink" title="Adding and removing foreign keys"></a>Adding and removing foreign keys</h3><p>To add a foreign key that a particular column references a column on another table</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$table-&gt;foreign(<span class="string">'user_id'</span>)-&gt;references(<span class="string">'id'</span>)-&gt;on(<span class="string">'users'</span>)-&gt;onDelete(<span class="string">'cascade'</span>);</span><br></pre></td></tr></table></figure>
<p>To remove foreign key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$table-&gt;dropForeign([&apos;user_id&apos;]);</span><br></pre></td></tr></table></figure>
<h2 id="Running-Migration"><a href="#Running-Migration" class="headerlink" title="Running Migration"></a>Running Migration</h2>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/05/27/database-and-eloquent/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/26/collecting-and-handling-user-data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/26/collecting-and-handling-user-data/" class="post-title-link" itemprop="url">3. Collecting and Handling User Data</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-26 20:14:13" itemprop="dateCreated datePublished" datetime="2017-05-26T20:14:13+10:00">2017-05-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Laravel provides a collection of tools for gathering, validating, normalizing. and filtering user-provided data.</p>
<h1 id="Injecting-a-Request-Object"><a href="#Injecting-a-Request-Object" class="headerlink" title="Injecting a Request Object"></a>Injecting a Request Object</h1><p>The common tool for accessing user data in Laravel is injecting an instance of the <strong><code>Illuminate\Http\Request</code></strong> object. It provides easy access to all of the ways users can provide input to our sites: POST, posted JSON, GET, and URL segments. </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'form'</span>, <span class="function"><span class="keyword">function</span><span class="params">(Illuminate\Http\Request $request)</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="request-gt-all"><a href="#request-gt-all" class="headerlink" title="$request-&gt;all()"></a><code>$request-&gt;all()</code></h2><p><strong><code>$request-&gt;all()</code></strong> returns an array containing all of the input the user has provided, <strong>from</strong> <strong>every source</strong>. </p>
<p>Let’s say we have a form POST to a URL with a query parameter</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"/post-route?utm=12345"</span>&gt;</span><br><span class="line">	&#123;&#123; csrf_field() &#125;&#125;</span><br><span class="line">	&lt;input type=<span class="string">'text'</span> name=<span class="string">'firstName'</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">'submit'</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">Route::post(<span class="string">'post-route'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Request $request)</span></span>&#123;</span><br><span class="line">  var_dump($request-&gt;all());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Outputs:</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* [ '_token' =&gt; 'your csrf token',</span></span><br><span class="line"><span class="comment">*	'firstName' =&gt; 'value',</span></span><br><span class="line"><span class="comment">*	'utm' =&gt; 12345</span></span><br><span class="line"><span class="comment">* ]</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>
<h2 id="request-gt-except-and-request-gt-only"><a href="#request-gt-except-and-request-gt-only" class="headerlink" title="$request-&gt;except() and $request-&gt;only()"></a><code>$request-&gt;except()</code> and <code>$request-&gt;only()</code></h2><p><code>$request-&gt;except()</code> allows you to choose one or more fields to exclude, for example the ‘_token’ filed</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"/post-route?utm=12345"</span>&gt;</span><br><span class="line">	&#123;&#123; csrf_field() &#125;&#125;</span><br><span class="line">	&lt;input type=<span class="string">'text'</span> name=<span class="string">'firstName'</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">'submit'</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">      </span><br><span class="line">Route::post(<span class="string">'/post-route'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Request $request)</span></span>&#123;</span><br><span class="line">  var_dump($request-&gt;except(<span class="string">'_token'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Outputs:</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* [</span></span><br><span class="line"><span class="comment">*	'firstName' =&gt; 'value',</span></span><br><span class="line"><span class="comment">*   'utm' =&gt; 12345</span></span><br><span class="line"><span class="comment">* ]</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>
<p><code>$request-&gt;only()</code> is the inverse of <code>$request-&gt;except()</code> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"/post-route?utm=12345"</span>&gt;</span><br><span class="line">	&#123;&#123; csrf_field() &#125;&#125;</span><br><span class="line">	&lt;input type=<span class="string">'text'</span> name=<span class="string">'firstName'</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">'submit'</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">Route::post(<span class="string">'/post-route'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Request $request)</span></span>&#123;</span><br><span class="line">  var_dump($request-&gt;only([<span class="string">'firstName'</span>,<span class="string">'utm'</span>]));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Outputs:</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* [</span></span><br><span class="line"><span class="comment">*	'firstName' =&gt; 'value',</span></span><br><span class="line"><span class="comment">*   'utm' =&gt; 12345</span></span><br><span class="line"><span class="comment">* ]</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>
<h2 id="request-gt-has-and-request-gt-exists"><a href="#request-gt-has-and-request-gt-exists" class="headerlink" title="$request-&gt;has() and $request-&gt;exists()"></a><code>$request-&gt;has()</code> and <code>$request-&gt;exists()</code></h2><p><code>$request-&gt;has()</code> and <code>$request-&gt;exists()</code>could detect whether a particular piece of user input is available to you. The difference is that <code>has()</code> returns <code>FALSE</code> if the key exists and is empty; <code>exists()</code> returns <code>TRUE</code> if the key exists, even if it’s empty.</p>
<h2 id="request-gt-input"><a href="#request-gt-input" class="headerlink" title="request-&gt;input()"></a><code>request-&gt;input()</code></h2><p><code>request-&gt;input()</code> allows you to get the value of just a single field. </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::post(<span class="string">'/post-route'</span>, <span class="function"><span class="keyword">function</span><span class="params">(Request $request)</span></span>&#123;</span><br><span class="line">  $userName = $request-&gt;input(<span class="string">'name'</span>,<span class="string">'(anonymous)'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>The second parameter is the default value, so if the user hasn’t passed in a value, you can have a sensible fallback.</p>
<h1 id="Array-Input"><a href="#Array-Input" class="headerlink" title="Array Input"></a>Array Input</h1><p>Laravel also provides convenience helpers for accessing data from array input.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&apos;post&apos; action=&apos;/post-route&apos;&gt;</span><br><span class="line">	&#123;&#123; csrf_field() &#125;&#125;</span><br><span class="line">	&lt;input type=&apos;text&apos; name=&apos;employees[0][firstName]&apos;&gt;</span><br><span class="line">	&lt;input type=&apos;text&apos; name=&apos;employees[0][lastName]&apos;&gt;</span><br><span class="line">	&lt;input type=&apos;text&apos; name=&apos;employees[1][firstName]&apos;&gt;</span><br><span class="line">	&lt;input type=&apos;text&apos; name=&apos;employees[1][lastName]&apos;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">Route::post(&apos;/post-route&apos;, function(Request $request)&#123;</span><br><span class="line">  $employeeZeroFirstName = $request-&gt;input(&apos;employees.0.firstName&apos;);</span><br><span class="line">  $allLastNames = $request-&gt;input(&apos;employees.*.lastName&apos;);</span><br><span class="line">  $employeeOne = $request-&gt;input(&apos;employees.1&apos;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// If forms filled out as &quot;Jim&quot; &quot;Smith&quot; &quot;Bob&quot; &quot;Jones&quot;: </span><br><span class="line">// $employeeZeroFirstName = &apos;Jim&apos;; </span><br><span class="line">// $allLastNames = [&apos;Smith&apos;, &apos;Jones&apos;]; </span><br><span class="line">// $employeeOne = [&apos;firstName&apos; =&gt; &apos;Bob&apos;, &apos;lastName&apos; =&gt; &apos;Jones&apos;]</span><br></pre></td></tr></table></figure>
<h1 id="From-Request"><a href="#From-Request" class="headerlink" title="From Request"></a>From Request</h1>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/05/26/collecting-and-handling-user-data/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/24/blade-templating/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/24/blade-templating/" class="post-title-link" itemprop="url">2. Blade templating</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-24 18:47:13" itemprop="dateCreated datePublished" datetime="2017-05-24T18:47:13+10:00">2017-05-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:38:40" itemprop="dateModified" datetime="2019-03-22T14:38:40+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Laravel offers a custom templating engine called Blade.</p>
<h1 id="Echoing-Data"><a href="#Echoing-Data" class="headerlink" title="Echoing Data"></a>Echoing Data</h1><p><code></code> is functionally equivalent to <code>&lt;?= htmlentities($variable) ?&gt;</code>. If you want to echo without the escaping, use {!! and !!}.</p>
<p><strong>Note:</strong> <strong>the difference between <code></code> and <code>{!! $variable !!}</code></strong></p>
<p>Let’s say we have a route</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    $test = <span class="string">'&lt;span&gt;hello world&lt;/span&gt;'</span>;</span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">'welcome'</span>,compact(<span class="string">'test'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>And in your welcome blade view</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; $test &#125;&#125;  // it will show <span class="tag">&lt;<span class="name">span</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;!! $test !!&#125; // this will show hello world only, the <span class="tag">&lt;<span class="name">span</span>&gt;</span> is treated as a part of html page</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Parsed as Blade; the value of $bladeVariable is echoed to the view </span></span><br><span class="line">&#123;&#123; $bladeVariable &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @ is removed, and "&#123;&#123; handlebarsVariable &#125;&#125;" echoed to the view </span></span><br><span class="line"><span class="comment">// directly </span></span><br><span class="line">@&#123;&#123; handlebarsVariable &#125;&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Control-Structures"><a href="#Control-Structures" class="headerlink" title="Control Structures"></a>Control Structures</h1><h2 id="Conditionals"><a href="#Conditionals" class="headerlink" title="Conditionals"></a>Conditionals</h2><p><strong><code>@if</code></strong></p>
<p>Syntax</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@if(count($users) === 1)</span><br><span class="line">	There is one user</span><br><span class="line">@elseif(count($users) === 2)</span><br><span class="line">	There are two users</span><br><span class="line">@else</span><br><span class="line">	There are &#123;&#123;count($users)&#125;&#125; users</span><br><span class="line">@endif</span><br></pre></td></tr></table></figure>
<p><strong><code>@unless</code></strong> </p>
<p>Syntax: <code>@unless</code> condition is the same as <code>&lt;?php if(!$condition) ?&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@unless(count($users) &gt; 0)</span><br><span class="line">	No users</span><br><span class="line">@endunless</span><br></pre></td></tr></table></figure>
<h2 id="Loops"><a href="#Loops" class="headerlink" title="Loops"></a>Loops</h2><p><strong><code>@for</code></strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">for</span>( $i = <span class="number">0</span>; $i &lt; $users-&gt;slotsCount(); $i++ )</span><br><span class="line">	&#123;&#123; $i &#125;&#125;</span><br><span class="line">@<span class="keyword">endfor</span></span><br></pre></td></tr></table></figure>
<p><strong><code>@foreach</code></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">foreach</span>($users <span class="keyword">as</span> $user)</span><br><span class="line">  &#123;&#123;$user-&gt;name&#125;&#125;</span><br><span class="line">@<span class="keyword">endforeach</span></span><br></pre></td></tr></table></figure>
<p> <strong><code>@while</code></strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">while</span>( $user = array_pop($users) )</span><br><span class="line">	&#123;&#123;$user-&gt;name&#125;&#125;</span><br><span class="line">@<span class="keyword">endwhile</span></span><br></pre></td></tr></table></figure>
<p><strong><code>@forelse</code></strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@forelse($users <span class="keyword">as</span> $user)</span><br><span class="line">	&#123;&#123; $user-&gt;name &#125;&#125;</span><br><span class="line">@<span class="keyword">empty</span></span><br><span class="line">  	No users</span><br><span class="line">@endforelse</span><br></pre></td></tr></table></figure>
<p><strong><code>$loop</code> within <code>@foreach</code> and <code>@forelse</code></strong></p>
<p>Within a <strong><code>@foreach</code></strong> or <strong><code>@forelse</code></strong> loop, Laravel provides a <strong><code>$loop</code></strong> variable, it will return a stdClass object with the following properties:</p>
<p><strong>index</strong></p>
<blockquote>
<p>The 0-based index of the current item in the loop; 0 would mean ‘first item’</p>
</blockquote>
<p><strong>iteration</strong></p>
<blockquote>
<p>The 1-based index of the current item in the loop; 1 would mean ‘first itme’</p>
</blockquote>
<p><strong>remaining</strong></p>
<blockquote>
<p>How many items remain in the loop, if the current item is the first of three, this will be 2</p>
</blockquote>
<p><strong>count</strong></p>
<blockquote>
<p>The count of items in loop</p>
</blockquote>
<p><strong>first</strong></p>
<blockquote>
<p>A boolean indicating whether this is the first item in the loop</p>
</blockquote>
<p><strong>last</strong></p>
<blockquote>
<p>A boolean indicating whether this is the last item in the loop</p>
</blockquote>
<p><strong>depth</strong></p>
<blockquote>
<p>How many levels deep this loop is: 1 for a loop, 2 for a loop within a loop</p>
</blockquote>
<p><strong>parent</strong></p>
<blockquote>
<p>Refers to the <code>$loop</code> variable for the parent loop item; if this loop is within another <code>@foreach</code> loop otherwise, null</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">@forelse( $users as $user)</span><br><span class="line">	There are &#123;&#123;$loop-&gt;count&#125;&#125; users.</span><br><span class="line">	&lt;li&gt; &#123;&#123; $loop-&gt;iteration &#125;&#125;: &#123;&#123; $user-&gt;name &#125;&#125;</span><br><span class="line">		@if($user-&gt;hasChildren())</span><br><span class="line">		&lt;ul&gt;</span><br><span class="line">		@foreach($user-&gt;children() as $child)</span><br><span class="line">			&lt;li&gt;&#123;&#123; $loop-&gt;parent-&gt;iteration &#125;&#125;.</span><br><span class="line">				&#123;&#123; $loop-&gt;iteration &#125;&#125;:</span><br><span class="line">				&#123;&#123; $child-&gt;name &#125;&#125;</span><br><span class="line">			&lt;/li&gt;</span><br><span class="line">		@endforeach</span><br><span class="line">	&lt;/li&gt;</span><br><span class="line">@empty</span><br><span class="line">	No users</span><br><span class="line">@endforelse</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<p><strong><code>or</code></strong></p>
<p>If you are not sure a variable is set or not, use <code>or</code> can set a default value.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;$title <span class="keyword">or</span> <span class="string">'Default Title'</span>&#125;&#125; <span class="comment">// if $title is not set, 'Default title' will be echoed.</span></span><br></pre></td></tr></table></figure>
<h1 id="Template-Inheritance"><a href="#Template-Inheritance" class="headerlink" title="Template Inheritance"></a>Template Inheritance</h1>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/05/24/blade-templating/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/24/Laravel-Routing-and-Controllers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/24/Laravel-Routing-and-Controllers/" class="post-title-link" itemprop="url">1. Laravel Routing and Controllers</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-24 12:59:26" itemprop="dateCreated datePublished" datetime="2017-05-24T12:59:26+10:00">2017-05-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The essential function of any web application framework is to take requests from a user and deliver the responses. Defining an application’s routes is the first and most important project to tackle.</p>
<p><a href="https://laravel.com/docs/5.4/routing" target="_blank" rel="noopener">Laravel routing documents</a></p>
<h1 id="Route-Definitions"><a href="#Route-Definitions" class="headerlink" title="Route Definitions"></a>Route Definitions</h1><p>In a Laravel application, we can define ‘web’ routes in <strong>routes/web.php</strong> and API routes in <strong>routes/api.php</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'Hello World'</span>; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Now, when you visit the ‘/‘ (route of your domain), you will see ‘Hello World’.</p>
<p>You can also define a <strong>route combined with some templates</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> view(<span class="string">'welcome'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="Route-Verbs"><a href="#Route-Verbs" class="headerlink" title="Route Verbs"></a>Route Verbs</h1><p>In above examples, we are using <strong>Route::get</strong> which means we are telling Laravel to only match for the routes when HTTP request uses the GET action; however, normally, HTTP actions may inlclude GET, POST, PUT, DELETE and so on. We have a few other options to call on a route.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Route::post(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;&#125;)；</span><br><span class="line">Route::put(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;&#125;);</span><br><span class="line">Route::delete(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;&#125;);</span><br><span class="line">Route::match([<span class="string">'get'</span>,<span class="string">'post'</span>],<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="Route-Handling"><a href="#Route-Handling" class="headerlink" title="Route Handling"></a>Route Handling</h1><p>Passing a closure to the route definition is not the only way to tell Laravel how to resolve a route. Additionally, applications using route closures can’t take advantage of Laravel’s route caching, which can shave up to hunders of milliseconds off of each request. </p>
<p>The common option is to pass a controller name and method as a string in place of the closure.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>,<span class="string">'WelcomeController@index'</span>);</span><br></pre></td></tr></table></figure>
<p>Above code means when Laravel receives the GET request, it will pass the request to <strong>WelcomeController (App\Controller\WelcomeController)</strong> and invoke the <strong>index()</strong> method</p>
<h1 id="Route-Parameters"><a href="#Route-Parameters" class="headerlink" title="Route Parameters"></a>Route Parameters</h1><p>If the route you’re defining has parameters, you can pass it like this</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'user/&#123;id&#125;'</span>, <span class="function"><span class="keyword">function</span><span class="params">($id)</span> </span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>You may ask, do I need to use the same names for both <strong>route parameter({id})</strong> and the <strong>method parameter($id)?</strong></p>
<p>Well, the answer is unless you are using route/model binding, no. Their order (left to right) defines which route parameter matches which method parameter. For example:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'users/&#123;userId&#125;/comments/&#123;commentId&#125;'</span>, <span class="function"><span class="keyword">function</span> <span class="params">( $thisIsActuallyTheUserId, $thisisReallyTheCommentId )</span> </span>&#123;</span><br><span class="line"><span class="comment">// your logic</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>You can also make your route parameter optional by including a <strong>question mark (?)</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'user/&#123;id?&#125;'</span>, </span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">($id = <span class="string">'fallbackId'</span>)</span></span>&#123; <span class="comment">// provide a default value</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong> <strong>Routes are matched from top to bottom</strong>. Let’s say we have two routes</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>  Route::get(<span class="string">'user/&#123;$id&#125;'</span>,<span class="function"><span class="keyword">function</span><span class="params">($id)</span></span>&#123;</span><br><span class="line">  		<span class="comment">// function that find a user by id</span></span><br><span class="line">	&#125;);</span><br><span class="line"><span class="number">2.</span>  Route::get(<span class="string">'user/verified'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  		<span class="comment">// function that return all verified users</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p>Now when you visit the  ‘/user/verified’, it will return an error. This is becaue Laravel will match the first route and  treat ‘verified’ as a paramater, then it will find a user by the id ‘verified’. </p>
<p>The solution is to move the second route to the top</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'user/verified'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">// function that return all verified users</span></span><br><span class="line">&#125;);</span><br><span class="line">Route::get(<span class="string">'user/verified'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  	<span class="comment">// function that return all verified users</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="Route-Names"><a href="#Route-Names" class="headerlink" title="Route Names"></a>Route Names</h1><p>The simplest way to refer to routes elsewhere in your application is by their path. There’s a url() helper to prefix your route with the full domain of your site.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;&#123;&#123;url(&apos;/&apos;)&#125;&#125;&quot;&gt; // we are using blade template here</span><br><span class="line">// outputs &lt;a href=&quot;http://yoursite.com/&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>However, in Laravel we can name each route, which enables you to refer to it by using its name.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// Define a route with name</span><br><span class="line">Route::get(&apos;user/&#123;userId&#125;/comment/&#123;commentId&#125;&apos;,&apos;UserController@show&apos;)-&gt;name(&apos;user.show&apos;);</span><br><span class="line"></span><br><span class="line">// Refer to the route by name and pass parameters to it --&gt; keyed array values are matched with the route parameters matching their keys,</span><br><span class="line">&lt;a href=&quot;&#123;&#123;route(&apos;user.show&apos;,[&apos;userId&apos;=&gt;1,&apos;commentId&apos;=&gt;2])&#125;&#125;&quot;&gt;</span><br><span class="line">&lt;a href=&quot;&#123;&#123;route(&apos;user.show&apos;,[&apos;commentId&apos;=&gt;2&apos;, userId&apos;=&gt;1])&#125;&#125;&quot;&gt;</span><br><span class="line"></span><br><span class="line">// Also you can pass parameters like this --&gt; nonkeyed array values are assigned in order</span><br><span class="line">&lt;a href=&quot;&#123;&#123;route(&apos;user.show&apos;,[1,2])&#125;&#125;&quot;&gt;</span><br><span class="line"></span><br><span class="line">//and anything left over is added as a query parameter.</span><br><span class="line">&lt;a href=&quot;&#123;&#123;route(&apos;user.show&apos;,[&apos;commentId&apos;=&gt;2&apos;, userId&apos;=&gt;1,&apos;opt&apos; =&gt; 2])&#125;&#125;&quot;&gt;</span><br><span class="line">//http://yoursite.com/user/1/comment/2?opt=2</span><br></pre></td></tr></table></figure>
<p>In Laravel 5.4  you can define the name like this</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Route::name(<span class="string">'user.show'</span>)-&gt;get(<span class="string">'user/&#123;id&#125;'</span>,<span class="function"><span class="keyword">function</span><span class="params">($id)</span> </span>&#123;&#125;);</span><br><span class="line">Route::middleware(<span class="string">'test'</span>)-&gt;name(<span class="string">'user.show'</span>)-&gt;prefix(<span class="string">'test/'</span>)-&gt;post(<span class="string">'/user'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="Route-Groups"><a href="#Route-Groups" class="headerlink" title="Route Groups"></a>Route Groups</h1><p>Route groups allow you to group several routes that sharing any configurations together.</p>
<p>Sharing same middleware</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Route::group([<span class="string">'middleware'</span> =&gt; <span class="string">'auth'</span>], <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    Route::get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span>    </span>&#123;</span><br><span class="line">        <span class="comment">// Uses Auth Middleware</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    Route::get(<span class="string">'user/profile'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Uses Auth Middleware</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Sharing same path prefixes</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route::gropu([<span class="string">'prefix'</span> =&gt; <span class="string">'api'</span>],<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// handle path /</span></span><br><span class="line">  &#125;);</span><br><span class="line">  Route::get(<span class="string">'/test'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// handle path api/test/</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Subdomain Routing</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Route::group([<span class="string">'domain'</span> =&gt; <span class="string">'api.yoursite.com'</span>], <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">Route::group([<span class="string">'domain'</span> =&gt; <span class="string">'&#123;account&#125;.yoursite.com'</span>], <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123; 	    Route::get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($account)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// </span></span><br><span class="line">	&#125;); </span><br><span class="line">	Route::get(<span class="string">'users/&#123;id&#125;'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($account, $id)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// </span></span><br><span class="line">	&#125;); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Namespace Prefixes</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Route::group([<span class="string">'namespace'</span>=&gt;<span class="string">'API'</span>],<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// App\Http\Controllers\API\UserController</span></span><br><span class="line">  Route::get(<span class="string">'/'</span>,<span class="string">'UserController@index'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Name Prefixes</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route::group([<span class="string">'as'</span> =&gt; <span class="string">'users.'</span>],<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  Route::gropu([<span class="string">'as'</span> =&gt; <span class="string">'comments.'</span> ], <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  	<span class="comment">// route name will be users.comments.show</span></span><br><span class="line">    Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">      </span><br><span class="line">    &#125;)-&gt;name(<span class="string">'show'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="Views"><a href="#Views" class="headerlink" title="Views"></a>Views</h1><p>In Laravel, there are two formats of view you can use out of the box: plain PHP, or Blade templates. <strong><em>about.php</em> will be render with the <em>PHP engine</em>, and <em>about.blade.php</em> will be rendered with <em>Blade engine</em>.</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> view(<span class="string">'welcome'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>This code will looks after a view in <strong><em>resources/views/home.blade.php</em></strong> or <strong><em>resources/views/home.php</em></strong> and parses any inline PHP or control structures  and eventually return the result to user.</p>
<p>You can pass in variables by this</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> view(<span class="string">'tasks.index'</span>)-&gt;with(<span class="string">'task'</span>,Task::all());</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> view(<span class="string">'tasks.index'</span>,[<span class="string">'task'</span>=&gt; Task::all()]);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">Route::get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  $task = Task::all();</span><br><span class="line">  <span class="keyword">return</span> view(<span class="string">'task.index'</span>, compact(<span class="string">'task'</span>));</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>It will find <strong><em>resources/views/tasks/index.blade.php</em></strong> or <strong><em>resources/views/tasks/index.php</em></strong> and passes a single variable named task</p>
<h1 id="Controllers"><a href="#Controllers" class="headerlink" title="Controllers"></a>Controllers</h1><p>Controllers are essentially classes that organize the logic of one or more routes together in on place. Think of controllers as the traffice cops that route HTTP requests around your application.</p>
<p>One easy way to create a controller is with an Artisan command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:controller TasksController</span><br></pre></td></tr></table></figure>
<p>Now you could find the controller in <strong><em>app/Http/Controllers</em></strong></p>
<h1 id="Get-User-Input"><a href="#Get-User-Input" class="headerlink" title="Get User Input"></a>Get User Input</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TasksController.php ... </span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">store</span><span class="params">()</span> </span>&#123; </span><br><span class="line">  $task = <span class="keyword">new</span> Task; </span><br><span class="line">  $task-&gt;title = Input::get(<span class="string">'title'</span>); </span><br><span class="line">  $task-&gt;description =  Input::get(<span class="string">'description'</span>); </span><br><span class="line">  $task-&gt;save();</span><br><span class="line">  <span class="keyword">return</span> redirect(<span class="string">'tasks'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// we’d need to import the Input facade at the top of the file. There are two ways to do that: either we can import \Input, or we can import Illuminate\Support\Facades\Input.</span></span><br></pre></td></tr></table></figure>
<h1 id="Resources-controller"><a href="#Resources-controller" class="headerlink" title="Resources controller"></a>Resources controller</h1><p>there’s a trick for generating routes, and it’s called “resource controller binding.”</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::resource(<span class="string">'user'</span>,<span class="string">'UserController'</span>);</span><br></pre></td></tr></table></figure>
<p>And the command for create resource controller is </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:controller UserController --resource</span><br></pre></td></tr></table></figure>
<h1 id="Route-Model-Binding"><a href="#Route-Model-Binding" class="headerlink" title="Route Model Binding"></a>Route Model Binding</h1><p>Laravel provides a feature that simplifies this pattern called “route model binding.” This allows you to define that a particular parameter name (e.g., {conference}) will indicate to the route resolver that it should look up an Eloquent record with that ID and then pass it in as the parameter instead of just passing the ID.</p>
<p>There are two kinds of route model binding: <strong>implicit</strong> and <strong>explicit</strong></p>
<ol>
<li><p>Implicit</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'user/&#123;user&#125;'</span>, <span class="function"><span class="keyword">function</span><span class="params">(User $user)</span></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> $user</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Becasue the parameter ({user}) is the same as the method parameter ($user), and the method parameter is typehinted with a User model (User $user), Laravel sees this as a route model binding. <strong>Every time this route is visited, the application will assume that whatever is passed into the URL in place of {user} is an ID that should be used to look up a User</strong> and then that resulting model instance will be passed in to your closure or controller method.</p>
<p>Note: By default, Eloquent will look it up by its primary key (ID), to change the column your Eloquent model uses for URL lookups, add a method to your model named getRouteKeyName():</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getRouteKeyName</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'slug'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now, a URL like user/{user} will expect to get the slug instead of the ID, and will perform its lookups accordingly.</p>
</li>
<li><p>Explicit</p>
<p>To manually configure route model bindings, add a link to the <strong><em>boot()</em></strong> method in <strong><em>App\Providers\RouteServiceProvider</em></strong>.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">boot</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">parent</span>::boot();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// use Illuminate\Support\Facades\Route</span></span><br><span class="line">  Route::model(<span class="string">'users'</span>, App\User::class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now whenever a route has a parameter in its definition named {users}, as demonstrated in Example 3-30, the route resolver will return an instance of the Conference class with the ID of that URL parameter. </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'user/&#123;users&#125;'</span>, <span class="function"><span class="keyword">function</span><span class="params">(User $user)</span></span>&#123; </span><br><span class="line"><span class="comment">// now the request parameter name could be different from //function parameter name (users vs $user)</span></span><br><span class="line">   <span class="keyword">return</span> $user</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="Redirects"><a href="#Redirects" class="headerlink" title="Redirects"></a>Redirects</h1><p>There are two common ways to generate a redirect: redirect global helper or Facade.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'redirect-with-helper'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> redirect()-&gt;to(<span class="string">'login'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">Route::get(<span class="string">'redirect-with-facade'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> Redirect::to(<span class="string">'login'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">Route::get(<span class="string">'redirect-with-helper-shortcut'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> redirect(<span class="string">'login'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>redirect()-&gt;to()</strong></p>
<p>the to() method looks like this:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">to</span><span class="params">($to = null, $status = <span class="number">302</span>, $headers = [], $secure = null)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>redirect()-&gt;route()</strong></p>
<p>The route() method is the same as the to() method, but rather than pointing to a particular path, it points to a particular route name</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'redirect'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> redirect()-&gt;route(<span class="string">'user.show'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>The route() function looks like this:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span><span class="params">($to = null, $parameters = [], $status = <span class="number">302</span>, $headers = [])</span></span></span><br></pre></td></tr></table></figure>
<p>So we can pass parameters to route by</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'redirect/&#123;user&#125;'</span>,<span class="function"><span class="keyword">function</span><span class="params">(User $user)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> redirect()-&gt;route(<span class="string">'user.show'</span>,[<span class="string">'user'</span> =&gt; $user]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>redirect()-&gt;back()</strong></p>
<p>which simply redirects the user to whatever page she came from. There’s also a global shortcut for this: back().</p>
<p><strong>redirect()-&gt;with()</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'redirect-shortcut-with-array'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  $user <span class="comment">// assume we have a user variable</span></span><br><span class="line">  <span class="keyword">return</span> redirect(<span class="string">'user'</span>)-&gt;with([<span class="string">'user'</span> =&gt; $user]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/22/javascript-array-reduce-duplicated-element/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yi Yang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yi Yang's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/05/22/javascript-array-reduce-duplicated-element/" class="post-title-link" itemprop="url">Javascript reduce duplicated element</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-05-22 15:23:03" itemprop="dateCreated datePublished" datetime="2017-05-22T15:23:03+10:00">2017-05-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 14:27:52" itemprop="dateModified" datetime="2019-03-22T14:27:52+11:00">2019-03-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = []; <span class="comment">// creat a variable to store the result</span></span><br><span class="line">  <span class="keyword">var</span> hash = &#123;&#125;; <span class="comment">// create a hash element</span></span><br><span class="line">  <span class="keyword">var</span> type = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">this</span>.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    type = <span class="keyword">typeof</span>(e);</span><br><span class="line">    hash[e] || (hash[e] = []); <span class="comment">// if current element is already in hash, do nothing. Otherwise create an attribute based on current element</span></span><br><span class="line">    <span class="keyword">if</span>(hash[e].indexOf(type) &lt; <span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">      result.push(e); </span><br><span class="line">      hash[e].push(type);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Yi Yang</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yi Yang</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
